@use './variables' as v;

/* ===== Card principal y elementos comunes ===== */
.auth-card {
  border-radius: 10px;
  padding: 2rem 2.5rem;
  width: 100%;
  max-width: 450px; /* default para flows simples */
  background: v.$white;
  box-shadow: 0 4px 18px rgba(0, 0, 0, 0.08);
  display: flex;
  flex-direction: column;
  gap: 1rem;

  @media (max-width: 640px) { padding: 1.25rem; }

  .logo { width: 180px; align-self: center; }

  .card-title {
    font-weight: 700;
    color: v.$primary-color;
    margin: .25rem 0 .5rem;
    font-size: 1.25rem;
    text-align: center;
  }

  /* Inputs, selects y textarea */
  input, select, textarea {
    width: 100%;
    padding: 0.75rem 1rem;
    border-radius: 6px;
    border: 1px solid #ddd;
    font-size: 1rem;
    outline: none;
    transition: 0.2s;
    background: v.$white;

    &:focus {
      border-color: v.$primary-color;
      box-shadow: 0 0 0 2px rgba(51, 51, 51, 0.15);
    }

    &.is-invalid {
      border-color: #dc143c;
      box-shadow: 0 0 0 2px rgba(220, 20, 60, .12);
    }
    &.is-valid {
      border-color: #3cb371;
      box-shadow: 0 0 0 2px rgba(60, 179, 113, .12);
    }
  }

  textarea {
    resize: vertical;
    min-height: 80px;
    max-height: 200px;
  }

  /* Layout grid para formularios */
  .form-row {
    display: grid;
    gap: .75rem;

    &.cols-2 {
      grid-template-columns: 1fr 1fr;
      @media (max-width: 640px) { grid-template-columns: 1fr; }
    }
    &.cols-3 {
      grid-template-columns: repeat(3, 1fr);
      @media (max-width: 820px) { grid-template-columns: 1fr 1fr; }
      @media (max-width: 640px) { grid-template-columns: 1fr; }
    }
  }

  label {
    display: block;
    font-size: .92rem;
    margin-bottom: .35rem;
    color: #555;
    font-weight: 500;
  }

  .field-error {
    color: #dc143c;
    font-size: 0.85rem;
    margin-top: -0.25rem;
    margin-bottom: 0.5rem;
  }

  .match-status {
    font-size: 0.85rem;
    font-weight: 600;
    margin-top: -0.3rem;
    margin-bottom: 0.5rem;
  }

  /* Password */
  .password-wrapper {
    position: relative;

    &.register { margin-bottom: 0.25rem; }

    .toggle-eye {
      position: absolute;
      top: 50%; right: 0.75rem;
      transform: translateY(-50%);
      cursor: pointer;
      font-size: 1.2rem;
      color: v.$text-color;
      &:hover { color: v.$primary-color; }
    }
  }

  .password-rules {
    font-size: 0.8rem;
    color: #999;
    margin-top: -0.25rem;
    margin-bottom: 0.25rem;

    p { margin: 0.15rem 0; }
    .valid { color: #3cb371; font-weight: 600; }
  }

  /* Acciones / Botones */
  .actions {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    text-align: center;

    .google-btn,
    .google-login-wrapper {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      padding: 0.65rem;
      background: v.$white;
      color: v.$text-color;
      border: 1px solid #ddd;
      border-radius: 6px;
      font-weight: 500;
      margin-bottom: 1.5rem;
      cursor: pointer;
      transition: 0.2s;

      &:hover { border-color: v.$primary-color; color: v.$primary-color; }
    }

    .link {
      font-size: 0.9rem;
      color: v.$primary-color;
      text-decoration: none;
      &:hover { text-decoration: underline; }
    }
  }

  /* Botones globales */
  button[type='submit'], .btn-primary {
    background: v.$primary-color;
    color: v.$white;
    border: none;
    border-radius: 6px;
    padding: 0.75rem;
    font-size: 1rem; font-weight: 600;
    cursor: pointer; transition: 0.2s;

    &:disabled { opacity: 0.6; cursor: not-allowed; }
    &:hover:not(:disabled) { background: v.$secondary-color; }
  }

  .btn-secondary {
    background: v.$white; color: v.$text-color;
    border: 1px solid #ddd; border-radius: 6px;
    padding: .6rem 1.1rem; font-weight: 500;
    cursor: pointer; transition: .2s;

    &:hover { border-color: v.$primary-color; color: v.$primary-color; }
    &.is-active {
      border-color: v.$primary-color;
      box-shadow: 0 0 0 2px rgba(51,51,51,.10);
    }
  }

  .btn-ghost {
    background: transparent;
    border: 1px dashed #dcdcdc;
    color: v.$primary-color;
    border-radius: 6px;
    padding: .6rem 1.1rem;
    font-weight: 600; cursor: pointer;
    &:hover { border-style: solid; background: #fafafa; }
  }

  /* Elementos informativos */
  .helper { font-size: .88rem; color: #777; margin-top: -.25rem; }

  .divider {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    align-items: center;
    gap: .75rem;
    color: #888;
    font-size: .9rem;
    margin: .5rem 0 1rem;

    &::before, &::after {
      content: '';
      height: 1px;
      background: #e9e9e9;
      display: block;
    }
  }

  .badge {
    display: inline-block;
    padding: .25rem .5rem;
    border-radius: 999px;
    background: v.$accent-color;
    color: #3b2a00;
    font-weight: 600;
    font-size: .75rem;
  }
}
